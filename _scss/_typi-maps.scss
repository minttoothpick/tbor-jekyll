// Put two values to create min- and max-width media queries
$breakpoints: (
  small:  $breakpoint-sm,
  medium: $breakpoint-md,
  large:  $breakpoint-lg
);

$typi-breakpoint: mappy-breakpoints;

// Baseline = $font-size-base * $line-height-base
// Use vr(x) for multiples of baseline
$typi: (
  null:  ($font-size-base, $line-height-base),
  small:  $font-size-sm,
  medium: $font-size-md,
  large:  $font-size-lg
);

$h1-map: (
  null: (ms(3), vr(2))
);
$h2-map: (
  null: (ms(2), vr(1.4))
);
$h3-map: (
  null: (ms(1), vr(1))
);
$h4-map: (
  null: (ms(1), vr(1))
);
$h5-map: (
  null: (ms(1), vr(1))
);
$h6-map: (
  null: (ms(1), vr(1))
);

html {
  @include typi-base();
}

h1 {
  @include typi($h1-map);
}
h2 {
  @include typi($h2-map);
}
h3 {
  @include typi($h3-map);
}
h4 {
  @include typi($h4-map);
}
h5 {
  @include typi($h5-map);
}
h6 {
  @include typi($h6-map);
}

h1, h2, h3, h4, h5, h6 {
  margin-bottom: 0;
  margin-top: 0;
  font-family: $font-family-serif;
}

* + p {
  margin: vr(0.75) 0;
}
p + h1 {
  margin-top: vr(1.5);
}
h1 + p {
  margin-top: vr(1);
}
p + h2 {
  margin-top: vr(1.5);
}
h2 + p {
  margin-top: vr(0.5);
}
p + h3 {
  margin-top: vr(1.5);
}
h3 + p {
  margin-top: vr(0.5);
}
p + h4 {
  margin-top: vr(1.5);
}
h4 + p {
  margin-top: vr(0.5);
}
p + h5 {
  margin-top: vr(1.5);
}
h5 + p {
  margin-top: vr(0.5);
}
p + h6 {
  margin-top: vr(1.5);
}
h6 + p {
  margin-top: vr(0.5);
}
ul, ol {
  padding: 0;
  list-style-position: outside;
  margin-left: 1rem;
  margin-left: 1rem + vr(0.5); /* 1rem + 0.5 baseline */
}
li {
  line-height: vr(1);
}
.post-content > * {
  max-width: 40rem;
}
